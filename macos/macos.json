
{
  "builders": [
    {
      "type": "vmware-iso",
      "guest_os_type": "darwin17-64",
      "vm_name": "macos",
      "iso_url": "macos-10.13.iso",
      "iso_checksum_type": "sha512",
      "iso_checksum_url": "file:///tmp/macos-10.13.iso.sha512",
      "ssh_username": "vagrant",
      "ssh_password": "vagrant",
      "ssh_wait_timeout": "1800s",
      "disk_size": 20000,
      "vmx_data": {
        "memsize": "2048",
        "numvcpus": "2",
        "cpuid.1.eax": "0000:0000:0000:0001:0000:0110:1010:0101",
        "firmware": "efi",
        "smc.present": "TRUE",
        "smc.version": "0",
        "virtualHW.version": "14",
        "hpet0.present": "TRUE",
        "ich7m.present": "TRUE",
        "ehci.present": "TRUE",
        "ehci.pciSlotNumber": "34",
        "usb.present": "TRUE",
        "usb.pciSlotNumber": "32",
        "scsi0.present": "FALSE",
        "sata0.present": "TRUE",
        "sata0:0.present": "TRUE",
        "sata0:0.filename": "disk.vmdk"
      },
      "boot_wait": "6m",
      "boot_command": [
        "<enter><wait10><wait10><wait10>",
        "<down><down><down><down><tab><wait>",
        "<spacebar><wait10><wait10><wait10>",
        "<leftCtrlOn><f2><leftCtrlOff><right><right><right><right><right><down><down><down><spacebar><wait>",
        "<up><up><tab><tab><tab><spacebar><wait5>",
        "Macintosh HD",
        "<tab><tab><tab><tab><spacebar><wait10><wait10><wait10>",
        "<tab><spacebar><wait>",
        "<leftCtrlOn><f2><leftCtrlOff><right><down><down><down><down><spacebar><wait10><wait10><wait10>",
        "<up><wait>",
        "<up><wait>",
        "<tab><wait>",
        "<spacebar><wait10><wait10><wait10>",
        "<spacebar><wait>",
        "<spacebar><wait>",
        "<tab><wait>",
        "<spacebar><wait>",
        "<leftSuperOn><f5><leftSuperOff><wait10><wait10><wait10>",
        "<leftCtrlOn><leftAltOn><down><leftAltOff><leftCtrlOff><wait>",
        "<leftCtrlOn><leftAltOn><down><leftAltOff><leftCtrlOff><wait>",
        "<leftCtrlOn><leftAltOn><spacebar><leftAltOff><leftCtrlOff><wait>",
        "<leftCtrlOn><leftAltOn><down><leftAltOff><leftCtrlOff><wait>",
        "<leftCtrlOn><leftAltOn><right><leftAltOff><leftCtrlOff><wait>",
        "<spacebar>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<leftSuperOn><f5><leftSuperOff><wait10><wait10><wait10>",
        "<leftCtrlOn><leftAltOn><down><leftAltOff><leftCtrlOff><wait>",
        "<leftCtrlOn><leftAltOn><right><wait><leftAltOff><leftCtrlOff>",
        "<leftSuperOn><f5><leftSuperOff><wait10><wait10><wait10>",
        "<tab><wait>",
        "United States<wait>",
        "<tab><spacebar><wait5>",
        "<tab><tab><tab><wait>",
        "<spacebar><wait10><wait10><wait10>",
        "<tab><tab><spacebar><wait10><wait10><wait10>",
        "<tab><tab><spacebar><wait5>",
        "<tab><tab><tab><tab><tab><spacebar><wait5>",
        "<tab><spacebar><wait10><wait10><wait10>",
        "<tab><tab><spacebar><wait5>",
        "<tab><spacebar><wait5>",
        "Vagrant<tab>vagrant<tab>vagrant<tab>vagrant<tab><tab><tab><spacebar>",
        "<wait10><wait10><wait10><wait10><wait10><wait10><wait10><wait10><wait10>",
        "<leftSuperOn><f5><leftSuperOff><wait10><wait10><wait10>",
        "<leftCtrlOn><leftAltOn><left><leftAltOff><leftCtrlOff><wait>",
        "<leftCtrlOn><leftAltOn><up><leftAltOff><leftCtrlOff><wait>",
        "<leftCtrlOn><leftAltOn><spacebar><leftAltOff><leftCtrlOff><wait5>",
        "<leftSuperOn><f5><leftSuperOff><wait10><wait10><wait10>",
        "<tab><tab><spacebar><wait5>",
        "<tab><spacebar><wait5>",
        "<tab><tab><tab><wait>",
        "New York<wait10>",
        "<tab><tab><tab><spacebar><wait5>",
        "<tab><tab><tab><spacebar><wait5>",
        "<tab><tab><tab><spacebar>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<wait10><wait10><wait10><wait10><wait10><wait10>",
        "<leftCtrlOn><f2><leftCtrlOff><down><down><down><down><down><down><down><down><spacebar><wait>",
        "<spacebar><tab><tab><spacebar>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<leftSuperOn><rOn><wait>",
        "<rOff><leftSuperOff>",
        "<leftCtrlOn><f2><leftCtrlOff><right><right><right><right><down><down><down><down><spacebar><wait10><wait10><wait10>",
        "csrutil disable<enter><wait>",
        "/usr/libexec/PlistBuddy -c 'Set Disabled FALSE' '/Volumes/Macintosh HD/System/Library/LaunchDaemons/ssh.plist'<enter><wait>",
        "<leftCtrlOn><f2><leftCtrlOff><down><down><down><spacebar>"
      ],
      "shutdown_command": "echo 'vagrant' | sudo -S shutdown -h now"
    }
  ],
  "provisioners": [
    {
      "type": "shell",
      "execute_command": "echo 'vagrant' | {{.Vars}} sudo -ES sh '{{.Path}}'",
      "scripts": [
        "elevate.macos.sh",
        "fix-networking.macos.sh",
        "ssh-configure-vagrant-key.macos.sh",
        "strip-services.macos.sh",
        "cleanup.macos.sh"
      ]
    }
  ],
  "post-processors": [
    {
      "type": "vagrant",
      "output": "macos-{{.Provider}}.box",
      "compression_level": "9",
      "vagrantfile_template": "Vagrantfile"
    }
  ]
}
